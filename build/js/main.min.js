window.LANDING={},function(){var e={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isNumber:function(e){return/^\+?[\d -]+$/.test(e)},isNotEmpty:function(e){return Boolean(e)}};LANDING.validation=e}(),function(){var o={},e=document.querySelector(".form-container"),n=null;function t(e){e.preventDefault(),o.close(),n.removeEventListener("click",t)}function i(e){"Escape"!==e.key&&27!==e.keyCode||(o.close(),window.removeEventListener("keydown",i))}o.open=function(){e.classList.remove("is-hidden"),(n=document.querySelector(".form__close-button")).addEventListener("click",t),window.addEventListener("keydown",i)},o.close=function(){e.classList.add("is-hidden")},o.isValid=function(){var e=document.querySelectorAll('[data-valid="required"]'),n=document.querySelector("[data-email]").value,t=document.querySelector("[data-number]").value;return o.isAllCompleted(e)?LANDING.validation.isEmail(n)?!!LANDING.validation.isNumber(t)||(console.log("Не верный номер"),!1):(console.log("Не верный email"),!1):(console.log("Заполните, пожалуйста, все необходимые поля"),!1)},o.isAllCompleted=function(e){for(var n=!0,t=0;t<e.length;t++)if(!LANDING.validation.isNotEmpty(e[t].value)){n=!1;break}return n},LANDING.form=o}(),function(){var e={};e.toggleToActiveLink=function(e){for(var n=document.querySelectorAll(".nav__link"),t=e.dataset.link,o=0;o<n.length;o++)n[o].classList.contains("nav__link--active")&&n[o].classList.remove("nav__link--active");e.classList.add("nav__link--active"),function(e){var n=document.querySelector("."+e).getBoundingClientRect(),t=setInterval(function(){(function(){var e=0;document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop);return e})()<n.top?window.scrollBy(0,10):clearInterval(t)},.4)}(t)},LANDING.navigation=e}(),function(){var e=document.querySelector(".arrow-down"),n=document.querySelector(".form"),t=document.querySelector(".nav");e&&e.addEventListener("click",function(e){e.preventDefault(),LANDING.form.open()}),n&&n.addEventListener("submit",function(e){e.preventDefault(),LANDING.form.isValid()?console.log("All good"):console.log("Is not valid")}),t&&t.addEventListener("click",function(e){var n=e.target;"a"===n.tagName.toLowerCase()&&(e.preventDefault(),LANDING.navigation.toggleToActiveLink(n))})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiLCJ2YWxpZGF0aW9uLmpzIiwiZm9ybS5qcyIsIm5hdmlnYXRpb24uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIkxBTkRJTkciLCJtZSIsImlzRW1haWwiLCJlbWFpbCIsInRlc3QiLCJpc051bWJlciIsIm51bWJlciIsImlzTm90RW1wdHkiLCJzdHIiLCJCb29sZWFuIiwidmFsaWRhdGlvbiIsImZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUJ1dHRvbiIsIm9uQ2xvc2UiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXNjQ2xvc2UiLCJrZXkiLCJrZXlDb2RlIiwib3BlbiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGQiLCJpc1ZhbGlkIiwicmVxdWlyZWRGaWVsZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZW1haWxWYWx1ZSIsInZhbHVlIiwibnVtYmVyVmFsdWUiLCJpc0FsbENvbXBsZXRlZCIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwicmVzdWx0IiwiaSIsImxlbmd0aCIsInRvZ2dsZVRvQWN0aXZlTGluayIsInRhcmdldCIsImxpbmtzIiwic2hvd2VkU2VjdGlvbiIsImRhdGFzZXQiLCJsaW5rIiwiY29udGFpbnMiLCJjb29yZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0aW1lcklkIiwic2V0SW50ZXJ2YWwiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5IiwiZ2V0U2Nyb2xsVG9wIiwidG9wIiwic2Nyb2xsQnkiLCJjbGVhckludGVydmFsIiwic2Nyb2xsVG9BY3RpdmVTZWN0aW9uIiwibmF2aWdhdGlvbiIsIm9wZW5Gb3JtQnV0dG9uIiwibmF2IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIl0sIm1hcHBpbmdzIjoiQUFFQUEsT0FBQUMsUUFBQSxHQ0VBLFdBQ0EsSUFBQUMsRUFB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LE9BRUEsTUFBQUEsRUFBQXFCLFFBQUFDLGdCQUlBaEQsRUFBQUMsaUJBQ0FqQixRQUFBNEQsV0FBQW5CLG1CQUFBQyxNQWxDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEluaXRpYWxpemF0aW9uIGdsb2JhbCBvYmplY3QgZm9yIHRoaXMgcHJvamVjdFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbndpbmRvdy5MQU5ESU5HID0ge307IiwiLyogZ2xvYmFsIExBTkRJTkcsIGZyb20ganMvaW5pdC5qcyAqL1xuXG4vKiBWYWxpZGF0aW9uXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuOyhmdW5jdGlvbigpIHtcbiAgdmFyICBtZSA9IHt9O1xuXG4gIG1lLmlzRW1haWwgPSBmdW5jdGlvbihlbWFpbCkge1xuICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcbiAgfTtcbiAgbWUuaXNOdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICB2YXIgcmUgPSAvXlxcKz9bXFxkIC1dKyQvO1xuICAgIHJldHVybiByZS50ZXN0KG51bWJlcik7XG4gICAgfTtcblxuICBtZS5pc05vdEVtcHR5ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oc3RyKTtcbiAgfTtcblxuICBMQU5ESU5HLnZhbGlkYXRpb24gPSBtZTtcbn0oKSk7IiwiLyogZ2xvYmFsIExBTkRJTkcsIGZyb20ganMvaW5pdC5qcyAqL1xuXG4vKiBGb3JtXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuOyhmdW5jdGlvbigpIHtcbiAgdmFyIG1lID0ge307XG4gIHZhciBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udGFpbmVyJyk7XG4gIHZhciBjbG9zZUJ1dHRvbiA9IG51bGw7XG5cbiAgZnVuY3Rpb24gb25DbG9zZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBtZS5jbG9zZSgpO1xuICAgIGNsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbG9zZSk7XG4gIH1cblxuICBmdW5jdGlvbiBlc2NDbG9zZShldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnIHx8IGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICBtZS5jbG9zZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NDbG9zZSk7XG4gICAgfVxuICB9XG5cbiAgbWUub3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG5cbiAgICBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19jbG9zZS1idXR0b24nKTtcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xvc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjQ2xvc2UpO1xuICB9O1xuXG4gIG1lLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcbiAgfTtcblxuICBtZS5pc1ZhbGlkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlcXVpcmVkRmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdmFsaWQ9XCJyZXF1aXJlZFwiXScpO1xuICAgIHZhciBlbWFpbFZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZW1haWxdJykudmFsdWU7XG4gICAgdmFyIG51bWJlclZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbnVtYmVyXScpLnZhbHVlO1xuXG4gICAgaWYgKCFtZS5pc0FsbENvbXBsZXRlZChyZXF1aXJlZEZpZWxkcykpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfQl9Cw0L/QvtC70L3QuNGC0LUsINC/0L7QttCw0LvRg9C50YHRgtCwLCDQstGB0LUg0L3QtdC+0LHRhdC+0LTQuNC80YvQtSDQv9C+0LvRjycgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCFMQU5ESU5HLnZhbGlkYXRpb24uaXNFbWFpbChlbWFpbFZhbHVlKSkgeyAvL0xBTkRJTkcudmFsaWRhdGlvbiBmcm9tIGpzL3ZhbGlkYXRpb24uanNcbiAgICAgIGNvbnNvbGUubG9nKCfQndC1INCy0LXRgNC90YvQuSBlbWFpbCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoIUxBTkRJTkcudmFsaWRhdGlvbi5pc051bWJlcihudW1iZXJWYWx1ZSkpIHsgLy9MQU5ESU5HLnZhbGlkYXRpb24gZnJvbSBqcy92YWxpZGF0aW9uLmpzXG4gICAgICBjb25zb2xlLmxvZygn0J3QtSDQstC10YDQvdGL0Lkg0L3QvtC80LXRgCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIG1lLmlzQWxsQ29tcGxldGVkID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgIGlmICghTEFORElORy52YWxpZGF0aW9uLmlzTm90RW1wdHkoZGF0YVtpXS52YWx1ZSkpIHsgLy9MQU5ESU5HLnZhbGlkYXRpb24gZnJvbSBqcy92YWxpZGF0aW9uLmpzXG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIExBTkRJTkcuZm9ybSA9IG1lO1xufSgpKTsiLCIvKiBnbG9iYWwgTEFORElORywgZnJvbSBqcy9pbml0LmpzICovXG5cbi8qIE5hdmlnYXRpb25cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG47KGZ1bmN0aW9uKCkge1xuICB2YXIgbWUgPSB7fTtcblxuXG4gIG1lLnRvZ2dsZVRvQWN0aXZlTGluayA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHZhciBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2xpbmsnKTtcbiAgICB2YXIgc2hvd2VkU2VjdGlvbiA9IHRhcmdldC5kYXRhc2V0Lmxpbms7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlua3NbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZfX2xpbmstLWFjdGl2ZScpKSB7XG4gICAgICAgIGxpbmtzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fbGluay0tYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ25hdl9fbGluay0tYWN0aXZlJyk7XG4gICAgc2Nyb2xsVG9BY3RpdmVTZWN0aW9uKHNob3dlZFNlY3Rpb24pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvQWN0aXZlU2VjdGlvbihzaG93ZWRTZWN0aW9uKSB7XG4gICAgdmFyIHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHNob3dlZFNlY3Rpb24pO1xuICAgIHZhciBjb29yZHMgPSBzZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBhbmltYXRlVGltZSA9IDAuNDtcblxuICAgIHZhciB0aW1lcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZ2V0U2Nyb2xsVG9wKCkgPCBjb29yZHMudG9wKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCAxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgfVxuICAgIH0sIGFuaW1hdGVUaW1lIHx8IDAuNSk7XG5cbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxUb3AoKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gMDtcblxuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSB7XG4gICAgICAgIHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY3JvbGxUb3A7XG4gICAgfVxuICB9XG5cbiAgTEFORElORy5uYXZpZ2F0aW9uID0gbWU7XG59KCkpOyIsIi8qIGdsb2JhbCBMQU5ESU5HLCBmcm9tIGpzL2luaXQuanMgKi9cblxuLyogTWFpblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbjsoZnVuY3Rpb24oKSB7XG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3Igb3BlbiBmb3JtIGJ1dHRvblxuICB2YXIgb3BlbkZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctZG93bicpO1xuICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gIHZhciBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2Jyk7XG5cbiAgaWYgKG9wZW5Gb3JtQnV0dG9uKSB7XG4gICAgb3BlbkZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBMQU5ESU5HLmZvcm0ub3BlbigpOyAvL0xBTkRJTkcuZm9ybSBmcm9tIGpzL2Zvcm0uanNcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3JtKSB7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmIChMQU5ESU5HLmZvcm0uaXNWYWxpZCgpKSB7IC8vTEFORElORy5mb3JtIGZyb20ganMvZm9ybS5qc1xuICAgICAgICBjb25zb2xlLmxvZygnQWxsIGdvb2QnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJcyBub3QgdmFsaWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChuYXYpIHtcbiAgICBuYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgTEFORElORy5uYXZpZ2F0aW9uLnRvZ2dsZVRvQWN0aXZlTGluayh0YXJnZXQpOyAvL0xBTkRJTkcubmF2aWdhdGlvbiBmcm9tIGpzL25hdmlnYXRpb24uanNcbiAgICB9KTtcbiAgfVxufSgpKTsiXX0=
